public class vStudio.Android.Camera360.ImgProcessThread extends java.lang.Thread
{
    private java.lang.String TAG;
    private vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction;
    private int mAutoSaveDownTime;
    private android.graphics.Bitmap mBitmap;
    private android.content.Context mContext;
    private byte[] mData;
    private int mDirect;
    private vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI;
    android.os.Handler mHandler;
    private int mHeight;
    private double mLatitude;
    private double mLongitude;
    private java.lang.String mParams;
    private int mPrevType;
    private int[] mPtrScenePrevImgData;
    private java.lang.String mSaveFileName;
    private int mSceneHeight;
    private int mSceneWidth;
    private int mThumbHeight;
    private int mThumbWidth;
    private int mWidth;

    public void <init>(android.content.Context, android.os.Handler, byte[])
    {
        android.content.Context $r1;
        byte[] $r3;
        android.os.Handler $r2;
        vStudio.Android.GPhoto.GPhotoJNI $r4;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r5;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $r1 := @parameter0: android.content.Context;

        $r2 := @parameter1: android.os.Handler;

        $r3 := @parameter2: byte[];

        specialinvoke r0.<java.lang.Thread: void <init>()>();

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG> = "GPhoto";

        r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData> = null;

        r0.<vStudio.Android.Camera360.ImgProcessThread: android.graphics.Bitmap mBitmap> = null;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mDirect> = 0;

        r0.<vStudio.Android.Camera360.ImgProcessThread: double mLatitude> = 0.0;

        r0.<vStudio.Android.Camera360.ImgProcessThread: double mLongitude> = 0.0;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mAutoSaveDownTime> = 5;

        r0.<vStudio.Android.Camera360.ImgProcessThread: android.content.Context mContext> = $r1;

        $r4 = new vStudio.Android.GPhoto.GPhotoJNI;

        specialinvoke $r4.<vStudio.Android.GPhoto.GPhotoJNI: void <init>()>();

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI> = $r4;

        r0.<vStudio.Android.Camera360.ImgProcessThread: android.os.Handler mHandler> = $r2;

        $r5 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActNone>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r5;

        r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData> = $r3;

        return;
    }

    private boolean CheckSdcardSize()
    {
        long l0, l1;
        java.io.File $r3;
        android.os.StatFs r1, $r6;
        byte $b3;
        int $i2;
        java.lang.StringBuilder $r4, $r7;
        java.lang.String $r2, $r5;
        vStudio.Android.Camera360.ImgProcessThread r0;
        boolean $z0;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $r2 = staticinvoke <android.os.Environment: java.lang.String getExternalStorageState()>();

        $z0 = virtualinvoke $r2.<java.lang.String: boolean equals(java.lang.Object)>("mounted");

        if $z0 == 0 goto label2;

        $r3 = staticinvoke <android.os.Environment: java.io.File getExternalStorageDirectory()>();

        $r6 = new android.os.StatFs;

        r1 = $r6;

        $r2 = virtualinvoke $r3.<java.io.File: java.lang.String getPath()>();

        specialinvoke $r6.<android.os.StatFs: void <init>(java.lang.String)>($r2);

        $i2 = virtualinvoke r1.<android.os.StatFs: int getBlockSize()>();

        l1 = (long) $i2;

        $i2 = virtualinvoke r1.<android.os.StatFs: int getAvailableBlocks()>();

        l0 = (long) $i2;

        l0 = l1 * l0;

        l0 = l0 / 1048576L;

        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

        $r7 = new java.lang.StringBuilder;

        specialinvoke $r7.<java.lang.StringBuilder: void <init>(java.lang.String)>("sdcard size:");

        $r4 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(long)>(l0);

        $r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <android.util.Log: int i(java.lang.String,java.lang.String)>($r2, $r5);

        $b3 = l0 cmp 5L;

        $i2 = (int) $b3;

        if $i2 >= 0 goto label1;

        return 0;

     label1:
        return 1;

     label2:
        return 0;
    }

    private void Clear()
    {
        vStudio.Android.Camera360.ImgProcessThread r0;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI> = null;

        r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData> = null;

        return;
    }

    private void CleareAndFree()
    {
        java.lang.String $r1;
        vStudio.Android.Camera360.ImgProcessThread r0;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void Clear()>();

        staticinvoke <java.lang.System: void gc()>();

        $r1 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

        staticinvoke <android.util.Log: int i(java.lang.String,java.lang.String)>($r1, "Free GPhotoJNI");

        return;
    }

    private void RegistPicToSystem()
    {
        android.content.Context $r5;
        android.net.Uri $r4;
        android.content.Intent r1;
        java.io.File r2;
        int $i0;
        java.lang.StringBuilder $r8;
        java.lang.String $r3, $r9;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r6, $r7;
        boolean $z0;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

        if $r3 == null goto label2;

        r2 = new java.io.File;

        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

        specialinvoke r2.<java.io.File: void <init>(java.lang.String)>($r3);

        $z0 = virtualinvoke r2.<java.io.File: boolean exists()>();

        if $z0 == 0 goto label1;

        r1 = new android.content.Intent;

        specialinvoke r1.<android.content.Intent: void <init>(java.lang.String)>("android.intent.action.MEDIA_SCANNER_SCAN_FILE");

        r2 = new java.io.File;

        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

        specialinvoke r2.<java.io.File: void <init>(java.lang.String)>($r3);

        $r4 = staticinvoke <android.net.Uri: android.net.Uri fromFile(java.io.File)>(r2);

        virtualinvoke r1.<android.content.Intent: android.content.Intent setData(android.net.Uri)>($r4);

        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.content.Context mContext>;

        virtualinvoke $r5.<android.content.Context: void sendBroadcast(android.content.Intent)>(r1);

     label1:
        $r6 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

        $r7 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActMakeEffectImg>;

        if $r6 != $r7 goto label2;

        $r8 = new java.lang.StringBuilder;

        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

        $r9 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

        $i0 = virtualinvoke $r9.<java.lang.String: int length()>();

        $i0 = $i0 - 4;

        $r3 = virtualinvoke $r3.<java.lang.String: java.lang.String substring(int,int)>(0, $i0);

        $r3 = staticinvoke <java.lang.String: java.lang.String valueOf(java.lang.Object)>($r3);

        specialinvoke $r8.<java.lang.StringBuilder: void <init>(java.lang.String)>($r3);

        $r8 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("_org.jpg");

        $r3 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.String toString()>();

        r2 = new java.io.File;

        specialinvoke r2.<java.io.File: void <init>(java.lang.String)>($r3);

        $z0 = virtualinvoke r2.<java.io.File: boolean exists()>();

        if $z0 == 0 goto label2;

        r1 = new android.content.Intent;

        specialinvoke r1.<android.content.Intent: void <init>(java.lang.String)>("android.intent.action.MEDIA_SCANNER_SCAN_FILE");

        r2 = new java.io.File;

        specialinvoke r2.<java.io.File: void <init>(java.lang.String)>($r3);

        $r4 = staticinvoke <android.net.Uri: android.net.Uri fromFile(java.io.File)>(r2);

        virtualinvoke r1.<android.content.Intent: android.content.Intent setData(android.net.Uri)>($r4);

        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.content.Context mContext>;

        virtualinvoke $r5.<android.content.Context: void sendBroadcast(android.content.Intent)>(r1);

     label2:
        return;
    }

    private void SaveFile()
    {
        byte[] $r2, $r4;
        int $i0;
        vStudio.Android.GPhoto.GPhotoJNI $r3;
        java.lang.String $r1;
        vStudio.Android.Camera360.ImgProcessThread r0;
        java.lang.Exception $r5;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

     label1:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        $r1 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $r4 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $i0 = lengthof $r4;

        virtualinvoke $r3.<vStudio.Android.GPhoto.GPhotoJNI: boolean SaveJpegWithExif(java.lang.String,byte[],int,byte[],int)>($r1, $r2, $i0, null, 0);

        r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData> = null;

        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void RegistPicToSystem()>();

        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void CleareAndFree()>();

     label2:
        return;

     label3:
        $r5 := @caughtexception;

        virtualinvoke $r5.<java.lang.Exception: void printStackTrace()>();

        return;

        catch java.lang.Exception from label1 to label2 with label3;
    }

    private void ShowTip(int)
    {
        android.content.Context $r1, $r2;
        android.widget.Toast $r4;
        int $i0;
        java.lang.String $r3;
        vStudio.Android.Camera360.ImgProcessThread r0;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $i0 := @parameter0: int;

        $r1 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.content.Context mContext>;

        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.content.Context mContext>;

        $r3 = virtualinvoke $r2.<android.content.Context: java.lang.String getString(int)>(2131296818);

        $r4 = staticinvoke <android.widget.Toast: android.widget.Toast makeText(android.content.Context,java.lang.CharSequence,int)>($r1, $r3, 0);

        virtualinvoke $r4.<android.widget.Toast: void show()>();

        return;
    }

    public void SetAutoSaveAction(int)
    {
        int $i0;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r1;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $i0 := @parameter0: int;

        $r1 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActAutoSave>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r1;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mAutoSaveDownTime> = $i0;

        return;
    }

    public void SetIntentResultAction(java.lang.String)
    {
        java.lang.String $r1;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r2;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $r1 := @parameter0: java.lang.String;

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName> = $r1;

        $r2 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActIntentResult>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r2;

        return;
    }

    public void SetMakeEffectPicAction(java.lang.String, java.lang.String, int, double, double)
    {
        int $i0;
        java.lang.String $r1, $r2;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r3;
        double $d0, $d1;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $r1 := @parameter0: java.lang.String;

        $r2 := @parameter1: java.lang.String;

        $i0 := @parameter2: int;

        $d0 := @parameter3: double;

        $d1 := @parameter4: double;

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams> = $r1;

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName> = $r2;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mDirect> = $i0;

        r0.<vStudio.Android.Camera360.ImgProcessThread: double mLatitude> = $d1;

        r0.<vStudio.Android.Camera360.ImgProcessThread: double mLongitude> = $d0;

        $r3 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActMakeEffectImg>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r3;

        return;
    }

    public void SetMakeScenePicAction(int, int, java.lang.String, java.lang.String)
    {
        int $i0, $i1;
        java.lang.String $r1, $r2;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r3;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $i0 := @parameter0: int;

        $i1 := @parameter1: int;

        $r1 := @parameter2: java.lang.String;

        $r2 := @parameter3: java.lang.String;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mSceneWidth> = $i0;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mSceneHeight> = $i1;

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams> = $r1;

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName> = null;

        $r3 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActMakeSceneImg>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r3;

        return;
    }

    public void SetMakeScenePrevPicAction(int[], int, int, java.lang.String)
    {
        int[] $r1;
        int $i0, $i1;
        java.lang.String $r2;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r3;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $r1 := @parameter0: int[];

        $i0 := @parameter1: int;

        $i1 := @parameter2: int;

        $r2 := @parameter3: java.lang.String;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mWidth> = $i0;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mHeight> = $i1;

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams> = $r2;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int[] mPtrScenePrevImgData> = $r1;

        $r3 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActMakeScenePrevImg>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r3;

        return;
    }

    public void SetMakeThumEffectPicAction(int, int, java.lang.String)
    {
        int $i0, $i1;
        java.lang.StringBuilder $r3;
        java.lang.String $r1;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r2;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $i0 := @parameter0: int;

        $i1 := @parameter1: int;

        $r1 := @parameter2: java.lang.String;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mWidth> = $i0;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mHeight> = $i1;

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams> = $r1;

        $r2 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActMakeThumEffectImg>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r2;

        $r3 = new java.lang.StringBuilder;

        specialinvoke $r3.<java.lang.StringBuilder: void <init>(java.lang.String)>(" SetMakeThumEffectPicAction pic size = ");

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i0);

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(" x ");

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i1);

        $r1 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <vStudio.Android.GPhoto.MyLog: void exception(java.lang.String)>($r1);

        return;
    }

    public void SetProcessPrevImageAction(int, java.lang.String)
    {
        int $i0;
        java.lang.String $r1;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r2;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $i0 := @parameter0: int;

        $r1 := @parameter1: java.lang.String;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mPrevType> = $i0;

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams> = $r1;

        $r2 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActProcessPrevImage>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r2;

        return;
    }

    public void SetSaveBitmapAction(android.graphics.Bitmap, java.lang.String)
    {
        android.graphics.Bitmap $r1;
        java.lang.String $r2;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r3;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $r1 := @parameter0: android.graphics.Bitmap;

        $r2 := @parameter1: java.lang.String;

        r0.<vStudio.Android.Camera360.ImgProcessThread: android.graphics.Bitmap mBitmap> = $r1;

        $r3 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActSaveBitmapFile>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r3;

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName> = $r2;

        return;
    }

    public void SetSavePicAction(java.lang.String, int, double, double)
    {
        int $i0;
        java.lang.String $r1;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r2;
        double $d0, $d1;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $r1 := @parameter0: java.lang.String;

        $i0 := @parameter1: int;

        $d0 := @parameter2: double;

        $d1 := @parameter3: double;

        $r2 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActSaveFile>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r2;

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName> = $r1;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mDirect> = $i0;

        r0.<vStudio.Android.Camera360.ImgProcessThread: double mLatitude> = $d1;

        r0.<vStudio.Android.Camera360.ImgProcessThread: double mLongitude> = $d0;

        return;
    }

    public void SetStartProcessPrevImageAction(int, int, int, int, java.lang.String)
    {
        int $i0, $i1, $i2, $i3;
        java.lang.StringBuilder $r3;
        java.lang.String $r1;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r2;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $i0 := @parameter0: int;

        $i1 := @parameter1: int;

        $i2 := @parameter2: int;

        $i3 := @parameter3: int;

        $r1 := @parameter4: java.lang.String;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mWidth> = $i0;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mHeight> = $i1;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mThumbWidth> = $i2;

        r0.<vStudio.Android.Camera360.ImgProcessThread: int mThumbHeight> = $i3;

        r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams> = $r1;

        $r2 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActStartProcessPrevImage>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r2;

        $r3 = new java.lang.StringBuilder;

        specialinvoke $r3.<java.lang.StringBuilder: void <init>(java.lang.String)>(" SetStartProcessPrevImageAction PrevSize = ");

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i0);

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(" x ");

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i1);

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(", ");

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("ThumbSize");

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i2);

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(" x ");

        $r3 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i2);

        $r1 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <vStudio.Android.GPhoto.MyLog: void exception(java.lang.String)>($r1);

        return;
    }

    public void TakeWithDetectStability()
    {
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r1;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $r1 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActTakeWithDetectStability>;

        r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction> = $r1;

        return;
    }

    public void run()
    {
        byte[] $r9, $r12, $r20;
        byte $b6;
        int[] $r13, $r14;
        android.os.Handler $r5;
        boolean $z0;
        java.lang.Exception $r7, $r22, $r27;
        android.os.Message r1, $r31;
        java.lang.StringBuilder $r8, $r32;
        java.lang.Throwable r6, r21, r28, r29, r30;
        long $l5;
        java.util.ArrayList r15, $r33;
        java.io.BufferedOutputStream r23, $r37;
        java.util.Calendar $r17;
        int $i0, $i1, $i2, $i3, $i4;
        android.graphics.Bitmap$CompressFormat r26;
        java.lang.String $r2, $r10, $r19;
        double $d0, $d1;
        vStudio.Android.Camera360.JpegExifMaker r18, $r35;
        java.io.FileOutputStream $r24, $r36;
        vStudio.Android.GPhoto.GPhotoJNI $r11;
        java.io.File r16, $r34;
        java.lang.InterruptedException $r38;
        android.graphics.Bitmap $r25;
        vStudio.Android.Camera360.ImgProcessThread r0;
        vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction $r3, r4;

        r0 := @this: vStudio.Android.Camera360.ImgProcessThread;

        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

        staticinvoke <android.util.Log: int i(java.lang.String,java.lang.String)>($r2, "Join Thread");

     label001:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label002:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActNone>;

        if $r3 != r4 goto label011;

     label003:
        staticinvoke <vStudio.Android.Camera360.ImgProcessThread: void sleep(long)>(3000L);

     label004:
        $r31 = new android.os.Message;

        r1 = $r31;

     label005:
        specialinvoke $r31.<android.os.Message: void <init>()>();

        r1.<android.os.Message: int what> = 3;

        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.os.Handler mHandler>;

        virtualinvoke $r5.<android.os.Handler: boolean sendMessage(android.os.Message)>(r1);

        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void CleareAndFree()>();

     label006:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

        staticinvoke <android.util.Log: int i(java.lang.String,java.lang.String)>($r2, "Leave Thread");

        return;

     label007:
        r6 := @caughtexception;

     label008:
        $r38 = (java.lang.InterruptedException) r6;

        virtualinvoke $r38.<java.lang.InterruptedException: void printStackTrace()>();

     label009:
        goto label004;

     label010:
        $r7 := @caughtexception;

        virtualinvoke $r7.<java.lang.Exception: void printStackTrace()>();

        $r32 = new java.lang.StringBuilder;

        specialinvoke $r32.<java.lang.StringBuilder: void <init>(java.lang.String)>("  ImgProcessThread Exception ");

        $r8 = virtualinvoke $r32.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.Object)>($r7);

        $r2 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <vStudio.Android.GPhoto.MyLog: void e(java.lang.String)>($r2);

        goto label006;

     label011:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label012:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActSaveFile>;

        if $r3 != r4 goto label019;

     label013:
        $z0 = specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: boolean CheckSdcardSize()>();

     label014:
        if $z0 != 0 goto label017;

     label015:
        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void ShowTip(int)>(2131296818);

     label016:
        goto label006;

     label017:
        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void SaveFile()>();

        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void CleareAndFree()>();

     label018:
        goto label006;

     label019:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label020:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActMakeThumEffectImg>;

        if $r3 != r4 goto label035;

     label021:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

     label022:
        $r32 = new java.lang.StringBuilder;

        $r8 = $r32;

     label023:
        specialinvoke $r32.<java.lang.StringBuilder: void <init>(java.lang.String)>("jpeg data size:");

        $r9 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $i0 = lengthof $r9;

        $r8 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i0);

        $r10 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <android.util.Log: int e(java.lang.String,java.lang.String)>($r2, $r10);

        $r11 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        $r9 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $r12 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $i0 = lengthof $r12;

        $i1 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mWidth>;

        $i2 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mHeight>;

        $z0 = virtualinvoke $r11.<vStudio.Android.GPhoto.GPhotoJNI: boolean beginProcessPreview(byte[],int,int,int,int,int)>($r9, $i0, $i1, $i2, 10, 10);

     label024:
        $r31 = new android.os.Message;

        r1 = $r31;

     label025:
        specialinvoke $r31.<android.os.Message: void <init>()>();

        r1.<android.os.Message: int what> = 3;

        r1.<android.os.Message: java.lang.Object obj> = null;

     label026:
        if $z0 == 0 goto label030;

     label027:
        $r11 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams>;

        $r13 = virtualinvoke $r11.<vStudio.Android.GPhoto.GPhotoJNI: int[] ProcessPrevImage(java.lang.String,int)>($r2, 0);

        $r11 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        $r14 = virtualinvoke $r11.<vStudio.Android.GPhoto.GPhotoJNI: int[] GetOrgPrevImage()>();

        $r11 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        virtualinvoke $r11.<vStudio.Android.GPhoto.GPhotoJNI: void EndProcessPrevImage()>();

     label028:
        if $r13 == null goto label029;

        if $r14 != null goto label032;

     label029:
        r1.<android.os.Message: java.lang.Object obj> = null;

     label030:
        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.os.Handler mHandler>;

        virtualinvoke $r5.<android.os.Handler: boolean sendMessage(android.os.Message)>(r1);

        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void CleareAndFree()>();

     label031:
        goto label006;

     label032:
        $r33 = new java.util.ArrayList;

        r15 = $r33;

     label033:
        specialinvoke $r33.<java.util.ArrayList: void <init>()>();

        virtualinvoke r15.<java.util.ArrayList: boolean add(java.lang.Object)>($r14);

        virtualinvoke r15.<java.util.ArrayList: boolean add(java.lang.Object)>($r13);

        r1.<android.os.Message: java.lang.Object obj> = r15;

     label034:
        goto label030;

     label035:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label036:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActStartProcessPrevImage>;

        if $r3 != r4 goto label049;

     label037:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

        staticinvoke <android.util.Log: int e(java.lang.String,java.lang.String)>($r2, "BeginProcessPrevImage");

        $r11 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        $r9 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $r12 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $i0 = lengthof $r12;

        $i1 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mWidth>;

        $i2 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mHeight>;

        $i3 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mThumbWidth>;

        $i4 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mThumbHeight>;

        $z0 = virtualinvoke $r11.<vStudio.Android.GPhoto.GPhotoJNI: boolean beginProcessPreview(byte[],int,int,int,int,int)>($r9, $i0, $i1, $i2, $i3, $i4);

     label038:
        $r31 = new android.os.Message;

        r1 = $r31;

     label039:
        specialinvoke $r31.<android.os.Message: void <init>()>();

        r1.<android.os.Message: int what> = 3;

        r1.<android.os.Message: java.lang.Object obj> = null;

     label040:
        if $z0 == 0 goto label044;

     label041:
        $r11 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams>;

        $r13 = virtualinvoke $r11.<vStudio.Android.GPhoto.GPhotoJNI: int[] ProcessPrevImage(java.lang.String,int)>($r2, 0);

        $r11 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        $r14 = virtualinvoke $r11.<vStudio.Android.GPhoto.GPhotoJNI: int[] GetOrgPrevImage()>();

     label042:
        if $r13 == null goto label043;

        if $r14 != null goto label046;

     label043:
        r1.<android.os.Message: java.lang.Object obj> = null;

     label044:
        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.os.Handler mHandler>;

        virtualinvoke $r5.<android.os.Handler: boolean sendMessage(android.os.Message)>(r1);

        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void CleareAndFree()>();

     label045:
        goto label006;

     label046:
        $r33 = new java.util.ArrayList;

        r15 = $r33;

     label047:
        specialinvoke $r33.<java.util.ArrayList: void <init>()>();

        virtualinvoke r15.<java.util.ArrayList: boolean add(java.lang.Object)>($r14);

        virtualinvoke r15.<java.util.ArrayList: boolean add(java.lang.Object)>($r13);

        r1.<android.os.Message: java.lang.Object obj> = r15;

     label048:
        goto label044;

     label049:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label050:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActProcessPrevImage>;

        if $r3 != r4 goto label056;

     label051:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

        staticinvoke <android.util.Log: int e(java.lang.String,java.lang.String)>($r2, "Process Preview Image");

        $r11 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams>;

        $i0 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mPrevType>;

        $r13 = virtualinvoke $r11.<vStudio.Android.GPhoto.GPhotoJNI: int[] ProcessPrevImage(java.lang.String,int)>($r2, $i0);

        $i0 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mPrevType>;

     label052:
        if $i0 != 0 goto label054;

        $r31 = new android.os.Message;

        r1 = $r31;

     label053:
        specialinvoke $r31.<android.os.Message: void <init>()>();

        r1.<android.os.Message: int what> = 3;

        r1.<android.os.Message: java.lang.Object obj> = $r13;

        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.os.Handler mHandler>;

        virtualinvoke $r5.<android.os.Handler: boolean sendMessage(android.os.Message)>(r1);

     label054:
        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void CleareAndFree()>();

     label055:
        goto label006;

     label056:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label057:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActMakeEffectImg>;

        if $r3 != r4 goto label080;

        $r34 = new java.io.File;

        r16 = $r34;

     label058:
        specialinvoke $r34.<java.io.File: void <init>(java.lang.String)>("/sdcard/Camera360/TempData/");

        $z0 = virtualinvoke r16.<java.io.File: boolean exists()>();

     label059:
        if $z0 != 0 goto label061;

     label060:
        virtualinvoke r16.<java.io.File: boolean mkdirs()>();

     label061:
        $r17 = staticinvoke <java.util.Calendar: java.util.Calendar getInstance()>();

        $l5 = virtualinvoke $r17.<java.util.Calendar: long getTimeInMillis()>();

     label062:
        $r32 = new java.lang.StringBuilder;

        $r8 = $r32;

     label063:
        $r2 = staticinvoke <java.lang.String: java.lang.String valueOf(java.lang.Object)>("/sdcard/Camera360/TempData/");

        specialinvoke $r32.<java.lang.StringBuilder: void <init>(java.lang.String)>($r2);

        $r2 = staticinvoke <java.lang.Long: java.lang.String toString(long)>($l5);

        $r8 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r2);

        $r8 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(".gpj");

        $r2 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.String toString()>();

     label064:
        $r35 = new vStudio.Android.Camera360.JpegExifMaker;

        r18 = $r35;

     label065:
        specialinvoke $r35.<vStudio.Android.Camera360.JpegExifMaker: void <init>()>();

        $i0 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mDirect>;

     label066:
        if $i0 != 1 goto label068;

     label067:
        virtualinvoke r18.<vStudio.Android.Camera360.JpegExifMaker: void AddDirect(int)>(6);

     label068:
        $d0 = r0.<vStudio.Android.Camera360.ImgProcessThread: double mLatitude>;

     label069:
        $b6 = $d0 cmpl 0.0;

        if $b6 == 0 goto label073;

     label070:
        $d0 = r0.<vStudio.Android.Camera360.ImgProcessThread: double mLongitude>;

     label071:
        $b6 = $d0 cmpl 0.0;

        if $b6 == 0 goto label073;

     label072:
        $d0 = r0.<vStudio.Android.Camera360.ImgProcessThread: double mLatitude>;

        $d1 = r0.<vStudio.Android.Camera360.ImgProcessThread: double mLongitude>;

        virtualinvoke r18.<vStudio.Android.Camera360.JpegExifMaker: void AddGpsInfo(double,double)>($d0, $d1);

     label073:
        $r11 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        $r10 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

        $r9 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $r12 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $i0 = lengthof $r12;

        $r19 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams>;

        $r12 = r18.<vStudio.Android.Camera360.JpegExifMaker: byte[] mData>;

        $r20 = r18.<vStudio.Android.Camera360.JpegExifMaker: byte[] mData>;

        $i1 = lengthof $r20;

        virtualinvoke $r11.<vStudio.Android.GPhoto.GPhotoJNI: boolean MakeEffectImageProject(java.lang.String,java.lang.String,byte[],int,java.lang.String,byte[],int)>($r2, $r10, $r9, $i0, $r19, $r12, $i1);

        r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData> = null;

        staticinvoke <java.lang.System: void gc()>();

     label074:
        staticinvoke <vStudio.Android.Camera360.ImgProcessThread: void sleep(long)>(1000L);

     label075:
        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void CleareAndFree()>();

     label076:
        goto label006;

     label077:
        r21 := @caughtexception;

     label078:
        $r38 = (java.lang.InterruptedException) r21;

        virtualinvoke $r38.<java.lang.InterruptedException: void printStackTrace()>();

     label079:
        goto label075;

     label080:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label081:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActMakeScenePrevImg>;

        if $r3 != r4 goto label094;

     label082:
        $r11 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        $r13 = r0.<vStudio.Android.Camera360.ImgProcessThread: int[] mPtrScenePrevImgData>;

        $r9 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $i0 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mWidth>;

        $i1 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mHeight>;

        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams>;

        virtualinvoke $r11.<vStudio.Android.GPhoto.GPhotoJNI: boolean MakeScenePrevImage(int[],byte[],int,int,java.lang.String)>($r13, $r9, $i0, $i1, $r2);

        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

     label083:
        $r32 = new java.lang.StringBuilder;

        $r8 = $r32;

     label084:
        specialinvoke $r32.<java.lang.StringBuilder: void <init>(java.lang.String)>("MakeScenePrevImage ok\uff0c size = ");

        $i0 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mWidth>;

        $r8 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i0);

        $r8 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(" x ");

        $i0 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mHeight>;

        $r8 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i0);

        $r8 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(", length = ");

        $r9 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $i0 = lengthof $r9;

        $r8 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i0);

        $r10 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <android.util.Log: int i(java.lang.String,java.lang.String)>($r2, $r10);

     label085:
        $r31 = new android.os.Message;

        r1 = $r31;

     label086:
        specialinvoke $r31.<android.os.Message: void <init>()>();

        r1.<android.os.Message: int what> = 4;

        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.os.Handler mHandler>;

        virtualinvoke $r5.<android.os.Handler: boolean sendMessage(android.os.Message)>(r1);

     label087:
        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void Clear()>();

     label088:
        goto label006;

     label089:
        $r22 := @caughtexception;

     label090:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

     label091:
        $r32 = new java.lang.StringBuilder;

        $r8 = $r32;

     label092:
        specialinvoke $r32.<java.lang.StringBuilder: void <init>(java.lang.String)>("emActMakeScenePrevImg:");

        $r10 = virtualinvoke $r22.<java.lang.Exception: java.lang.String toString()>();

        $r8 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10);

        $r10 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <android.util.Log: int e(java.lang.String,java.lang.String)>($r2, $r10);

     label093:
        goto label087;

     label094:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label095:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActMakeSceneImg>;

        if $r3 != r4 goto label106;

     label096:
        $r11 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.GPhoto.GPhotoJNI mGPhotoJNI>;

        $r9 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $r12 = r0.<vStudio.Android.Camera360.ImgProcessThread: byte[] mData>;

        $i0 = lengthof $r12;

        $i1 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mSceneWidth>;

        $i2 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mSceneHeight>;

        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mParams>;

        $r10 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

        $r13 = virtualinvoke $r11.<vStudio.Android.GPhoto.GPhotoJNI: int[] MakeSceneImage(byte[],int,int,int,java.lang.String,java.lang.String)>($r9, $i0, $i1, $i2, $r2, $r10);

     label097:
        if $r13 == null goto label101;

     label098:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

        staticinvoke <android.util.Log: int i(java.lang.String,java.lang.String)>($r2, "MakeSceneImage ok");

     label099:
        $r31 = new android.os.Message;

        r1 = $r31;

     label100:
        specialinvoke $r31.<android.os.Message: void <init>()>();

        r1.<android.os.Message: int what> = 5;

        r1.<android.os.Message: java.lang.Object obj> = $r13;

        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.os.Handler mHandler>;

        virtualinvoke $r5.<android.os.Handler: boolean sendMessage(android.os.Message)>(r1);

     label101:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

     label102:
        if $r2 == null goto label104;

        $r31 = new android.os.Message;

        r1 = $r31;

     label103:
        specialinvoke $r31.<android.os.Message: void <init>()>();

        r1.<android.os.Message: int what> = 9;

        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.os.Handler mHandler>;

        virtualinvoke $r5.<android.os.Handler: boolean sendMessage(android.os.Message)>(r1);

     label104:
        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void RegistPicToSystem()>();

        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void CleareAndFree()>();

     label105:
        goto label006;

     label106:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label107:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActSaveBitmapFile>;

        if $r3 != r4 goto label120;

        $r34 = new java.io.File;

        r16 = $r34;

     label108:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

        specialinvoke $r34.<java.io.File: void <init>(java.lang.String)>($r2);

     label109:
        $r37 = new java.io.BufferedOutputStream;

        r23 = $r37;

        $r36 = new java.io.FileOutputStream;

        $r24 = $r36;

     label110:
        specialinvoke $r36.<java.io.FileOutputStream: void <init>(java.io.File)>(r16);

        specialinvoke $r37.<java.io.BufferedOutputStream: void <init>(java.io.OutputStream)>($r24);

        $r25 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.graphics.Bitmap mBitmap>;

     label111:
        r26 = <android.graphics.Bitmap$CompressFormat: android.graphics.Bitmap$CompressFormat JPEG>;

     label112:
        virtualinvoke $r25.<android.graphics.Bitmap: boolean compress(android.graphics.Bitmap$CompressFormat,int,java.io.OutputStream)>(r26, 85, r23);

        virtualinvoke r23.<java.io.BufferedOutputStream: void flush()>();

        virtualinvoke r23.<java.io.BufferedOutputStream: void close()>();

        r0.<vStudio.Android.Camera360.ImgProcessThread: android.graphics.Bitmap mBitmap> = null;

     label113:
        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void RegistPicToSystem()>();

        specialinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: void CleareAndFree()>();

     label114:
        goto label006;

     label115:
        $r27 := @caughtexception;

     label116:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

     label117:
        $r32 = new java.lang.StringBuilder;

        $r8 = $r32;

     label118:
        specialinvoke $r32.<java.lang.StringBuilder: void <init>(java.lang.String)>("Save Bitmap Error:");

        $r10 = virtualinvoke $r27.<java.lang.Exception: java.lang.String toString()>();

        $r8 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r10);

        $r10 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <android.util.Log: int e(java.lang.String,java.lang.String)>($r2, $r10);

     label119:
        goto label113;

     label120:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label121:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActIntentResult>;

        if $r3 != r4 goto label137;

        $r34 = new java.io.File;

        r16 = $r34;

     label122:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

        specialinvoke $r34.<java.io.File: void <init>(java.lang.String)>($r2);

     label123:
        staticinvoke <vStudio.Android.Camera360.ImgProcessThread: void sleep(long)>(500L);

     label124:
        $z0 = virtualinvoke r16.<java.io.File: boolean exists()>();

     label125:
        if $z0 == 0 goto label123;

     label126:
        $z0 = virtualinvoke r16.<java.io.File: boolean canRead()>();

     label127:
        if $z0 == 0 goto label123;

     label128:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String mSaveFileName>;

        $r25 = staticinvoke <android.graphics.BitmapFactory: android.graphics.Bitmap decodeFile(java.lang.String)>($r2);

     label129:
        if $r25 == null goto label123;

     label130:
        $r2 = r0.<vStudio.Android.Camera360.ImgProcessThread: java.lang.String TAG>;

        staticinvoke <android.util.Log: int i(java.lang.String,java.lang.String)>($r2, "save intent file ok");

     label131:
        $r31 = new android.os.Message;

        r1 = $r31;

     label132:
        specialinvoke $r31.<android.os.Message: void <init>()>();

        r1.<android.os.Message: int what> = 6;

        r1.<android.os.Message: java.lang.Object obj> = $r25;

        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.os.Handler mHandler>;

        virtualinvoke $r5.<android.os.Handler: boolean sendMessage(android.os.Message)>(r1);

     label133:
        goto label006;

     label134:
        r28 := @caughtexception;

     label135:
        $r38 = (java.lang.InterruptedException) r28;

        virtualinvoke $r38.<java.lang.InterruptedException: void printStackTrace()>();

     label136:
        goto label124;

     label137:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label138:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActAutoSave>;

        if $r3 != r4 goto label152;

     label139:
        $i0 = r0.<vStudio.Android.Camera360.ImgProcessThread: int mAutoSaveDownTime>;

     label140:
        $i1 = 0;

     label141:
        if $i1 > $i0 goto label006;

     label142:
        $z0 = virtualinvoke r0.<vStudio.Android.Camera360.ImgProcessThread: boolean isInterrupted()>();

     label143:
        if $z0 != 0 goto label006;

        $r31 = new android.os.Message;

        r1 = $r31;

     label144:
        specialinvoke $r31.<android.os.Message: void <init>()>();

        r1.<android.os.Message: int what> = 7;

     label145:
        $i2 = $i0 - $i1;

     label146:
        r1.<android.os.Message: int arg1> = $i2;

        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.os.Handler mHandler>;

        virtualinvoke $r5.<android.os.Handler: boolean sendMessage(android.os.Message)>(r1);

     label147:
        staticinvoke <vStudio.Android.Camera360.ImgProcessThread: void sleep(long)>(1000L);

     label148:
        $i1 = $i1 + 1;

        goto label141;

     label149:
        r29 := @caughtexception;

     label150:
        $r38 = (java.lang.InterruptedException) r29;

        virtualinvoke $r38.<java.lang.InterruptedException: void printStackTrace()>();

     label151:
        goto label006;

     label152:
        $r3 = r0.<vStudio.Android.Camera360.ImgProcessThread: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction mAction>;

     label153:
        r4 = <vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction: vStudio.Android.Camera360.ImgProcessThread$EnumProcessAction emActTakeWithDetectStability>;

        if $r3 != r4 goto label006;

        $i0 = 0;

     label154:
        if $i0 > 5 goto label006;

        $r31 = new android.os.Message;

        r1 = $r31;

     label155:
        specialinvoke $r31.<android.os.Message: void <init>()>();

        r1.<android.os.Message: int what> = 7;

     label156:
        $i1 = 5 - $i0;

     label157:
        r1.<android.os.Message: int arg1> = $i1;

        $r5 = r0.<vStudio.Android.Camera360.ImgProcessThread: android.os.Handler mHandler>;

        virtualinvoke $r5.<android.os.Handler: boolean sendMessage(android.os.Message)>(r1);

     label158:
        staticinvoke <vStudio.Android.Camera360.ImgProcessThread: void sleep(long)>(1000L);

     label159:
        $i0 = $i0 + 1;

        goto label154;

     label160:
        r30 := @caughtexception;

     label161:
        $r38 = (java.lang.InterruptedException) r30;

        virtualinvoke $r38.<java.lang.InterruptedException: void printStackTrace()>();

     label162:
        goto label159;

        catch java.lang.Exception from label001 to label002 with label010;
        catch java.lang.InterruptedException from label003 to label004 with label007;
        catch java.lang.Exception from label003 to label004 with label010;
        catch java.lang.Exception from label005 to label006 with label010;
        catch java.lang.Exception from label008 to label009 with label010;
        catch java.lang.Exception from label011 to label012 with label010;
        catch java.lang.Exception from label013 to label014 with label010;
        catch java.lang.Exception from label015 to label016 with label010;
        catch java.lang.Exception from label017 to label018 with label010;
        catch java.lang.Exception from label019 to label020 with label010;
        catch java.lang.Exception from label021 to label022 with label010;
        catch java.lang.Exception from label023 to label024 with label010;
        catch java.lang.Exception from label025 to label026 with label010;
        catch java.lang.Exception from label027 to label028 with label010;
        catch java.lang.Exception from label029 to label031 with label010;
        catch java.lang.Exception from label033 to label034 with label010;
        catch java.lang.Exception from label035 to label036 with label010;
        catch java.lang.Exception from label037 to label038 with label010;
        catch java.lang.Exception from label039 to label040 with label010;
        catch java.lang.Exception from label041 to label042 with label010;
        catch java.lang.Exception from label043 to label045 with label010;
        catch java.lang.Exception from label047 to label048 with label010;
        catch java.lang.Exception from label049 to label050 with label010;
        catch java.lang.Exception from label051 to label052 with label010;
        catch java.lang.Exception from label053 to label055 with label010;
        catch java.lang.Exception from label056 to label057 with label010;
        catch java.lang.Exception from label058 to label059 with label010;
        catch java.lang.Exception from label060 to label062 with label010;
        catch java.lang.Exception from label063 to label064 with label010;
        catch java.lang.Exception from label065 to label066 with label010;
        catch java.lang.Exception from label067 to label069 with label010;
        catch java.lang.Exception from label070 to label071 with label010;
        catch java.lang.Exception from label072 to label074 with label010;
        catch java.lang.InterruptedException from label074 to label075 with label077;
        catch java.lang.Exception from label074 to label075 with label010;
        catch java.lang.Exception from label075 to label076 with label010;
        catch java.lang.Exception from label078 to label079 with label010;
        catch java.lang.Exception from label080 to label081 with label010;
        catch java.lang.Exception from label082 to label083 with label089;
        catch java.lang.Exception from label084 to label085 with label089;
        catch java.lang.Exception from label086 to label087 with label089;
        catch java.lang.Exception from label087 to label088 with label010;
        catch java.lang.Exception from label090 to label091 with label010;
        catch java.lang.Exception from label092 to label093 with label010;
        catch java.lang.Exception from label094 to label095 with label010;
        catch java.lang.Exception from label096 to label097 with label010;
        catch java.lang.Exception from label098 to label099 with label010;
        catch java.lang.Exception from label100 to label102 with label010;
        catch java.lang.Exception from label103 to label105 with label010;
        catch java.lang.Exception from label106 to label107 with label010;
        catch java.lang.Exception from label108 to label109 with label010;
        catch java.lang.Exception from label110 to label111 with label115;
        catch java.lang.Exception from label112 to label113 with label115;
        catch java.lang.Exception from label113 to label114 with label010;
        catch java.lang.Exception from label116 to label117 with label010;
        catch java.lang.Exception from label118 to label119 with label010;
        catch java.lang.Exception from label120 to label121 with label010;
        catch java.lang.Exception from label122 to label123 with label010;
        catch java.lang.InterruptedException from label123 to label124 with label134;
        catch java.lang.Exception from label123 to label124 with label010;
        catch java.lang.Exception from label124 to label125 with label010;
        catch java.lang.Exception from label126 to label127 with label010;
        catch java.lang.Exception from label128 to label129 with label010;
        catch java.lang.Exception from label130 to label131 with label010;
        catch java.lang.Exception from label132 to label133 with label010;
        catch java.lang.Exception from label135 to label136 with label010;
        catch java.lang.Exception from label137 to label138 with label010;
        catch java.lang.Exception from label139 to label140 with label010;
        catch java.lang.Exception from label142 to label143 with label010;
        catch java.lang.Exception from label144 to label145 with label010;
        catch java.lang.Exception from label146 to label147 with label010;
        catch java.lang.InterruptedException from label147 to label148 with label149;
        catch java.lang.Exception from label147 to label148 with label010;
        catch java.lang.Exception from label150 to label151 with label010;
        catch java.lang.Exception from label152 to label153 with label010;
        catch java.lang.Exception from label155 to label156 with label010;
        catch java.lang.Exception from label157 to label158 with label010;
        catch java.lang.InterruptedException from label158 to label159 with label160;
        catch java.lang.Exception from label158 to label159 with label010;
        catch java.lang.Exception from label161 to label162 with label010;
    }
}
