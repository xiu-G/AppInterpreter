public class com.peercom.DownloadBGService extends android.app.Service implements com.peercom.GlobalSetting
{
    public static final java.lang.String FILELINK;
    public static final java.lang.String FILEMEDIATYPE;
    public static final java.lang.String FILENAME;
    public static final java.lang.String FINISHED;
    public static final java.lang.String TOTALSIZE;
    public static boolean queuePoll;
    android.widget.RemoteViews contentView;
    boolean downStopFlag;
    private android.os.Handler mDownRestartHandler;
    private android.os.Handler mDownSleepHandler;
    private android.os.Handler mDownStopHandler;
    private com.peercom.DownloadFileManager mDownloadFileManager;
    private android.app.NotificationManager nm;
    int prevValue;
    java.util.Queue queue;
    public int sleepTime;
    android.os.PowerManager$WakeLock wakeLock;
    public android.content.Intent ipcIntent;
    public android.os.IBinder ipcBinder_0;

    static void <clinit>()
    {
        <com.peercom.DownloadBGService: java.lang.String TOTALSIZE> = "no";

        <com.peercom.DownloadBGService: java.lang.String FINISHED> = "no";

        <com.peercom.DownloadBGService: java.lang.String FILENAME> = "file_name";

        <com.peercom.DownloadBGService: java.lang.String FILEMEDIATYPE> = "file_mediatype";

        <com.peercom.DownloadBGService: java.lang.String FILELINK> = "file_link";

        <com.peercom.DownloadBGService: boolean queuePoll> = 0;

        return;
    }

    public void <init>()
    {
        com.peercom.DownloadBGService r0;

        r0 := @this: com.peercom.DownloadBGService;

        specialinvoke r0.<android.app.Service: void <init>()>();

        r0.<com.peercom.DownloadBGService: int prevValue> = -1;

        r0.<com.peercom.DownloadBGService: boolean downStopFlag> = 0;

        r0.<com.peercom.DownloadBGService: android.os.PowerManager$WakeLock wakeLock> = null;

        r0.<com.peercom.DownloadBGService: java.util.Queue queue> = null;

        return;
    }

    static com.peercom.DownloadFileManager access$0(com.peercom.DownloadBGService)
    {
        com.peercom.DownloadBGService $r0;
        com.peercom.DownloadFileManager r1;

        $r0 := @parameter0: com.peercom.DownloadBGService;

        r1 = $r0.<com.peercom.DownloadBGService: com.peercom.DownloadFileManager mDownloadFileManager>;

        return r1;
    }

    static android.app.NotificationManager access$1(com.peercom.DownloadBGService)
    {
        com.peercom.DownloadBGService $r0;
        android.app.NotificationManager r1;

        $r0 := @parameter0: com.peercom.DownloadBGService;

        r1 = $r0.<com.peercom.DownloadBGService: android.app.NotificationManager nm>;

        return r1;
    }

    static void access$2(com.peercom.DownloadBGService, android.app.NotificationManager)
    {
        com.peercom.DownloadBGService $r0;
        android.app.NotificationManager $r1;

        $r0 := @parameter0: com.peercom.DownloadBGService;

        $r1 := @parameter1: android.app.NotificationManager;

        $r0.<com.peercom.DownloadBGService: android.app.NotificationManager nm> = $r1;

        return;
    }

    static void access$3(com.peercom.DownloadBGService, int, int)
    {
        int $i0, $i1;
        com.peercom.DownloadBGService $r0;

        $r0 := @parameter0: com.peercom.DownloadBGService;

        $i0 := @parameter1: int;

        $i1 := @parameter2: int;

        specialinvoke $r0.<com.peercom.DownloadBGService: void updateProgress(int,int)>($i0, $i1);

        return;
    }

    public static void copyFile(java.lang.String, java.lang.String) throws java.io.IOException
    {
        java.lang.Throwable $r4, $r5;
        java.io.FileOutputStream $r7;
        long $l0, l1, $l3;
        java.io.FileInputStream $r6;
        byte $b2;
        int $i4;
        java.lang.String $r0, $r1;
        java.nio.channels.FileChannel $r2, $r3;

        $r0 := @parameter0: java.lang.String;

        $r1 := @parameter1: java.lang.String;

        $r6 = new java.io.FileInputStream;

        specialinvoke $r6.<java.io.FileInputStream: void <init>(java.lang.String)>($r0);

        $r2 = virtualinvoke $r6.<java.io.FileInputStream: java.nio.channels.FileChannel getChannel()>();

        $r7 = new java.io.FileOutputStream;

        specialinvoke $r7.<java.io.FileOutputStream: void <init>(java.lang.String)>($r1);

        $r3 = virtualinvoke $r7.<java.io.FileOutputStream: java.nio.channels.FileChannel getChannel()>();

     label01:
        $l0 = virtualinvoke $r2.<java.nio.channels.FileChannel: long size()>();

     label02:
        l1 = 0L;

     label03:
        $b2 = l1 cmp $l0;

        $i4 = (int) $b2;

        if $i4 < 0 goto label05;

        if $r2 == null goto label04;

        virtualinvoke $r2.<java.nio.channels.FileChannel: void close()>();

     label04:
        if $r3 == null goto label13;

        virtualinvoke $r3.<java.nio.channels.FileChannel: void close()>();

        return;

     label05:
        $l3 = (long) 67076096;

     label06:
        $l3 = virtualinvoke $r2.<java.nio.channels.FileChannel: long transferTo(long,long,java.nio.channels.WritableByteChannel)>(l1, $l3, $r3);

     label07:
        l1 = l1 + $l3;

        goto label03;

     label08:
        $r4 := @caughtexception;

     label09:
        throw $r4;

     label10:
        $r5 := @caughtexception;

        if $r2 == null goto label11;

        virtualinvoke $r2.<java.nio.channels.FileChannel: void close()>();

     label11:
        if $r3 == null goto label12;

        virtualinvoke $r3.<java.nio.channels.FileChannel: void close()>();

     label12:
        throw $r5;

     label13:
        return;

        catch java.io.IOException from label01 to label02 with label08;
        catch java.lang.Throwable from label01 to label02 with label10;
        catch java.io.IOException from label06 to label07 with label08;
        catch java.lang.Throwable from label06 to label07 with label10;
        catch java.lang.Throwable from label09 to label10 with label10;
    }

    public static void renameFile(java.lang.String, java.lang.String)
    {
        java.lang.String $r0, $r1;
        java.io.File r2, r3;

        $r0 := @parameter0: java.lang.String;

        $r1 := @parameter1: java.lang.String;

        r2 = new java.io.File;

        specialinvoke r2.<java.io.File: void <init>(java.lang.String)>($r0);

        r3 = new java.io.File;

        specialinvoke r3.<java.io.File: void <init>(java.lang.String)>($r1);

        virtualinvoke r2.<java.io.File: boolean renameTo(java.io.File)>(r3);

        return;
    }

    private void updateProgress(int, int)
    {
        com.peercom.DownloadBGService r0;
        android.os.Message r1, $r5;
        android.os.Handler $r3;
        int $i0, $i1;
        float $f0, $f1;
        com.peercom.DownloadFileManager $r2;
        java.lang.Object $r4;
        boolean $z0;

        r0 := @this: com.peercom.DownloadBGService;

        $i0 := @parameter0: int;

        $i1 := @parameter1: int;

        $f0 = (float) $i0;

        $f1 = (float) $i1;

        $f0 = $f0 / $f1;

        $f0 = $f0 * 100.0F;

        $i0 = (int) $f0;

        $r2 = r0.<com.peercom.DownloadBGService: com.peercom.DownloadFileManager mDownloadFileManager>;

        $r3 = $r2.<com.peercom.DownloadFileManager: android.os.Handler mPhandler>;

        if $r3 == null goto label2;

        $i1 = r0.<com.peercom.DownloadBGService: int prevValue>;

        if $i1 == $i0 goto label2;

        $r4 = new java.lang.Object;

        specialinvoke $r4.<java.lang.Object: void <init>()>();

        $r5 = new android.os.Message;

        r1 = $r5;

        specialinvoke $r5.<android.os.Message: void <init>()>();

        r1.<android.os.Message: java.lang.Object obj> = $r4;

        r1.<android.os.Message: int arg1> = $i0;

        $r2 = r0.<com.peercom.DownloadBGService: com.peercom.DownloadFileManager mDownloadFileManager>;

        $r3 = $r2.<com.peercom.DownloadFileManager: android.os.Handler mPhandler>;

        virtualinvoke $r3.<android.os.Handler: boolean sendMessage(android.os.Message)>(r1);

        r0.<com.peercom.DownloadBGService: int prevValue> = $i0;

        $i0 = r0.<com.peercom.DownloadBGService: int prevValue>;

        if $i0 != 100 goto label1;

        r0.<com.peercom.DownloadBGService: int prevValue> = -1;

     label1:
        $z0 = r0.<com.peercom.DownloadBGService: boolean downStopFlag>;

        if $z0 == 0 goto label2;

        r0.<com.peercom.DownloadBGService: int prevValue> = -1;

     label2:
        return;
    }

    public int getSleepTime()
    {
        int i0;
        com.peercom.DownloadBGService r0;

        r0 := @this: com.peercom.DownloadBGService;

        i0 = r0.<com.peercom.DownloadBGService: int sleepTime>;

        return i0;
    }

    public android.os.IBinder onBind(android.content.Intent)
    {
        com.peercom.DownloadBGService this;
        android.content.Intent parameter0;

        this := @this: com.peercom.DownloadBGService;

        parameter0 := @parameter0: android.content.Intent;

        parameter0 = virtualinvoke this.<com.peercom.DownloadBGService: android.content.Intent getIntent()>();

        this.<com.peercom.DownloadBGService: android.os.IBinder ipcBinder_0> = parameter0;

        this.<com.peercom.DownloadBGService: android.os.IBinder ipcBinder_0> = parameter0;

        this.<com.peercom.DownloadBGService: android.os.IBinder ipcBinder_0> = parameter0;

        this.<com.peercom.DownloadBGService: android.os.IBinder ipcBinder_0> = parameter0;

        this.<com.peercom.DownloadBGService: android.os.IBinder ipcBinder_0> = parameter0;

        this.<com.peercom.DownloadBGService: android.os.IBinder ipcBinder_0> = parameter0;

        return parameter0;
    }

    public void onCreate()
    {
        com.peercom.DownloadBGService r0;
        java.lang.Class $r1;
        java.lang.String $r2;

        r0 := @this: com.peercom.DownloadBGService;

        specialinvoke r0.<android.app.Service: void onCreate()>();

        $r1 = virtualinvoke r0.<java.lang.Object: java.lang.Class getClass()>();

        $r2 = virtualinvoke $r1.<java.lang.Class: java.lang.String getSimpleName()>();

        staticinvoke <android.util.Log: int i(java.lang.String,java.lang.String)>($r2, "Download Background Service created.");

        return;
    }

    public void onDestroy()
    {
        com.peercom.DownloadBGService r0;
        int $i0;
        java.lang.Class $r2;
        java.lang.String $r3;
        android.os.PowerManager$WakeLock $r1;

        r0 := @this: com.peercom.DownloadBGService;

        $r1 = r0.<com.peercom.DownloadBGService: android.os.PowerManager$WakeLock wakeLock>;

        if $r1 == null goto label1;

        $i0 = <com.peercom.GlobalVariableSetting: int wakeLockStateCode>;

        if $i0 != 1 goto label1;

        $r1 = r0.<com.peercom.DownloadBGService: android.os.PowerManager$WakeLock wakeLock>;

        virtualinvoke $r1.<android.os.PowerManager$WakeLock: void release()>();

        r0.<com.peercom.DownloadBGService: android.os.PowerManager$WakeLock wakeLock> = null;

        <com.peercom.GlobalVariableSetting: int wakeLockStateCode> = 0;

     label1:
        $r2 = virtualinvoke r0.<java.lang.Object: java.lang.Class getClass()>();

        $r3 = virtualinvoke $r2.<java.lang.Class: java.lang.String getSimpleName()>();

        staticinvoke <android.util.Log: int i(java.lang.String,java.lang.String)>($r3, "Download Background Service stopped.");

        specialinvoke r0.<android.app.Service: void onDestroy()>();

        return;
    }

    public void onStart(android.content.Intent, int)
    {
        com.peercom.DownloadBGService$DownLoadThread $r19;
        java.util.Date $r9;
        java.text.SimpleDateFormat r2;
        android.content.Intent $r1;
        java.lang.Integer $r10;
        android.os.PowerManager r16;
        java.util.Calendar $r8;
        android.os.Handler $r12;
        int $i0;
        com.peercom.DownloadFileManager $r5;
        java.lang.String $r4;
        java.util.LinkedList $r18;
        com.peercom.DownloadBGService r0;
        android.app.NotificationManager $r7;
        android.os.PowerManager$WakeLock $r15;
        com.peercom.DownloadBGService$3 $r14;
        com.peercom.DownloadBGService$2 $r13;
        com.peercom.DownloadBGService$1 $r11;
        java.lang.Class $r3;
        java.lang.Object $r6;
        java.util.Queue $r17;

        r0 := @this: com.peercom.DownloadBGService;

        $r1 := @parameter0: android.content.Intent;

        $i0 := @parameter1: int;

        $r1 = virtualinvoke r0.<com.peercom.DownloadBGService: android.content.Intent getIntent()>();

        specialinvoke r0.<android.app.Service: void onStart(android.content.Intent,int)>($r1, $i0);

        $r3 = virtualinvoke r0.<java.lang.Object: java.lang.Class getClass()>();

        $r4 = virtualinvoke $r3.<java.lang.Class: java.lang.String getSimpleName()>();

        staticinvoke <android.util.Log: int i(java.lang.String,java.lang.String)>($r4, "Download Background Service started.");

        $r5 = staticinvoke <com.peercom.DownloadFileManager: com.peercom.DownloadFileManager getInstance()>();

        r0.<com.peercom.DownloadBGService: com.peercom.DownloadFileManager mDownloadFileManager> = $r5;

        $r6 = virtualinvoke r0.<com.peercom.DownloadBGService: java.lang.Object getSystemService(java.lang.String)>("notification");

        $r7 = (android.app.NotificationManager) $r6;

        r0.<com.peercom.DownloadBGService: android.app.NotificationManager nm> = $r7;

        $r1 = new android.content.Intent;

        specialinvoke $r1.<android.content.Intent: void <init>(android.content.Context,java.lang.Class)>(r0, class "Lcom/peercom/ishoottablet/DownloadActivity;");

        staticinvoke <android.app.PendingIntent: android.app.PendingIntent getActivity(android.content.Context,int,android.content.Intent,int)>(r0, 0, $r1, 0);

        $r8 = staticinvoke <java.util.Calendar: java.util.Calendar getInstance()>();

        $r9 = virtualinvoke $r8.<java.util.Calendar: java.util.Date getTime()>();

        r2 = new java.text.SimpleDateFormat;

        specialinvoke r2.<java.text.SimpleDateFormat: void <init>(java.lang.String)>("HH");

        $r4 = virtualinvoke r2.<java.text.SimpleDateFormat: java.lang.String format(java.util.Date)>($r9);

        $r10 = staticinvoke <java.lang.Integer: java.lang.Integer valueOf(java.lang.String)>($r4);

        virtualinvoke $r10.<java.lang.Integer: int intValue()>();

        virtualinvoke r0.<com.peercom.DownloadBGService: void setSleepTime(int)>(0);

        $r11 = new com.peercom.DownloadBGService$1;

        specialinvoke $r11.<com.peercom.DownloadBGService$1: void <init>(com.peercom.DownloadBGService)>(r0);

        r0.<com.peercom.DownloadBGService: android.os.Handler mDownStopHandler> = $r11;

        $r5 = r0.<com.peercom.DownloadBGService: com.peercom.DownloadFileManager mDownloadFileManager>;

        $r12 = r0.<com.peercom.DownloadBGService: android.os.Handler mDownStopHandler>;

        $r5.<com.peercom.DownloadFileManager: android.os.Handler mStopHandler> = $r12;

        $r13 = new com.peercom.DownloadBGService$2;

        specialinvoke $r13.<com.peercom.DownloadBGService$2: void <init>(com.peercom.DownloadBGService)>(r0);

        r0.<com.peercom.DownloadBGService: android.os.Handler mDownRestartHandler> = $r13;

        $r5 = r0.<com.peercom.DownloadBGService: com.peercom.DownloadFileManager mDownloadFileManager>;

        $r12 = r0.<com.peercom.DownloadBGService: android.os.Handler mDownRestartHandler>;

        $r5.<com.peercom.DownloadFileManager: android.os.Handler mRestartHandler> = $r12;

        $r14 = new com.peercom.DownloadBGService$3;

        specialinvoke $r14.<com.peercom.DownloadBGService$3: void <init>(com.peercom.DownloadBGService)>(r0);

        r0.<com.peercom.DownloadBGService: android.os.Handler mDownSleepHandler> = $r14;

        $r5 = r0.<com.peercom.DownloadBGService: com.peercom.DownloadFileManager mDownloadFileManager>;

        $r12 = r0.<com.peercom.DownloadBGService: android.os.Handler mDownSleepHandler>;

        $r5.<com.peercom.DownloadFileManager: android.os.Handler mSleepHandler> = $r12;

        $r15 = r0.<com.peercom.DownloadBGService: android.os.PowerManager$WakeLock wakeLock>;

        if $r15 != null goto label1;

        $i0 = <com.peercom.GlobalVariableSetting: int wakeLockStateCode>;

        if $i0 != 0 goto label1;

        $r6 = virtualinvoke r0.<com.peercom.DownloadBGService: java.lang.Object getSystemService(java.lang.String)>("power");

        r16 = (android.os.PowerManager) $r6;

        $r15 = virtualinvoke r16.<android.os.PowerManager: android.os.PowerManager$WakeLock newWakeLock(int,java.lang.String)>(6, "wakelock");

        r0.<com.peercom.DownloadBGService: android.os.PowerManager$WakeLock wakeLock> = $r15;

        $r15 = r0.<com.peercom.DownloadBGService: android.os.PowerManager$WakeLock wakeLock>;

        virtualinvoke $r15.<android.os.PowerManager$WakeLock: void acquire()>();

        <com.peercom.GlobalVariableSetting: int wakeLockStateCode> = 1;

     label1:
        $r17 = r0.<com.peercom.DownloadBGService: java.util.Queue queue>;

        if $r17 != null goto label2;

        $r18 = new java.util.LinkedList;

        specialinvoke $r18.<java.util.LinkedList: void <init>()>();

        r0.<com.peercom.DownloadBGService: java.util.Queue queue> = $r18;

     label2:
        $r19 = new com.peercom.DownloadBGService$DownLoadThread;

        specialinvoke $r19.<com.peercom.DownloadBGService$DownLoadThread: void <init>(com.peercom.DownloadBGService)>(r0);

        virtualinvoke $r19.<com.peercom.DownloadBGService$DownLoadThread: void start()>();

        return;
    }

    public void setSleepTime(int)
    {
        int $i0;
        com.peercom.DownloadBGService r0;

        r0 := @this: com.peercom.DownloadBGService;

        $i0 := @parameter0: int;

        r0.<com.peercom.DownloadBGService: int sleepTime> = $i0;

        return;
    }

    public android.content.Intent getIntent()
    {
        com.peercom.DownloadBGService this;
        android.content.Intent $r0;

        this := @this: com.peercom.DownloadBGService;

        $r0 = this.<com.peercom.DownloadBGService: android.content.Intent ipcIntent>;

        return $r0;
    }
}
